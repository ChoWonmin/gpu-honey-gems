{"version":3,"sources":["webpack:///./src/render/Fire/Fire.vue?c025","webpack:///./src/render/Fire/Fire.vert","webpack:///./src/render/Fire/Fire.frag","webpack:///./src/render/Fire/Fire.ts","webpack:///./src/render/Fire/Fire.ts?1a46","webpack:///./src/render/Fire/Fire.vue","webpack:///./src/render/Fire/index.ts","webpack:///./src/render/Fire/Fire.vue?4055"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","camera","scene","renderer","controls","material","width","height","start","container","document","getElementById","Date","now","clientWidth","clientHeight","position","z","uniforms","tExplosion","type","value","load","time","weight","vertexShader","fragmentShader","side","transparent","mesh","add","antialias","setSize","appendChild","domElement","requestAnimationFrame","animate","init","dispose","components","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,gBAClHC,EAAkB,G,gGCDP,wnNCAA,ygBCaM,EAArB,YALA,iD,+DAMU,EAAAC,OAAc,KACd,EAAAC,MAAa,KACb,EAAAC,SAAgB,KAChB,EAAAC,SAAgB,KAChB,EAAAC,SAAgB,KAEhB,EAAAC,OAAiB,EACjB,EAAAC,QAAkB,EAClB,EAAAC,OAAiB,EAd3B,EAKA,0EAYI,IAAMC,EAAYC,SAASC,eAAe,aAE1CjB,KAAKc,MAAQI,KAAKC,MAClBnB,KAAKY,MAAQG,EAAUK,YACvBpB,KAAKa,OAASE,EAAUM,aAExBrB,KAAKQ,MAAQ,IAAI,OACjBR,KAAKO,OAAS,IAAI,OAChB,GACAP,KAAKY,MAAQZ,KAAKa,OAClB,EACA,KAEFb,KAAKO,OAAOe,SAASC,EAAI,IAEzBvB,KAAKW,SAAW,IAAI,OAAwB,CAC1Ca,SAAU,CACRC,WAAY,CACVC,KAAM,IACNC,OAAO,IAAI,QAAsBC,KAAK,+BAExCC,KAAM,CAAEH,KAAM,IAAKC,MAAO,GAC1BG,OAAQ,CAAEJ,KAAM,IAAKC,MAAO,KAE9BI,aAAc,EACdC,eAAgB,EAChBC,KAAM,OACNC,aAAa,IAEf,IAAMC,EAAO,IAAI,OACf,IAAI,OAA0B,GAAI,GAClCnC,KAAKW,UAEPX,KAAKQ,MAAM4B,IAAID,GAEfnC,KAAKS,SAAW,IAAI,OAAoB,CACtC4B,WAAW,IAGbrC,KAAKS,SAAS6B,QAAQtC,KAAKY,MAAOZ,KAAKa,QAEnCE,GACFA,EAAUwB,YAAYvC,KAAKS,SAAS+B,cAtD1C,gCA2DIC,sBAAsBzC,KAAK0C,SAC3B1C,KAAKW,SAASa,SAAS,QAAQG,MAAQ,OAAWT,KAAKC,MAAQnB,KAAKc,OAEpEd,KAAKS,SAASX,OAAOE,KAAKQ,MAAOR,KAAKO,UA9D1C,gCAkEIP,KAAK2C,OACL3C,KAAK0C,YAnET,sCAuEI1C,KAAKQ,MAAMoC,UACX5C,KAAKS,SAASmC,cAxElB,GAAkC,QAAb,EAAI,QALxB,eAAU,CACTC,WAAY,MAIO,WCbgQ,I,wBCQjRC,EAAY,eACd,EACAhD,EACAQ,GACA,EACA,KACA,WACA,MAIa,EAAAwC,E,QCjBA,gB,kCCFf,yBAAsmB,EAAG,G","file":"js/chunk-a79d3416.5fdfdf2e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"container\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default \"precision lowp float;\\n\\nuniform mat4 modelMatrix;\\nuniform mat4 modelViewMatrix;\\nuniform mat4 projectionMatrix;\\nuniform vec3 cameraPosition;\\n\\nuniform float time;\\nuniform float weight;\\n\\nattribute vec2 uv;\\nattribute vec3 position;\\nattribute vec3 normal;\\n\\nvarying vec2 vUv;\\nvarying vec3 vReflect;\\nvarying vec3 pos;\\nvarying float ao;\\nvarying float d;\\n\\nvec3 mod289(vec3 x)\\n{\\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\\n}\\n\\nvec4 mod289(vec4 x)\\n{\\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\\n}\\n\\nvec4 permute(vec4 x)\\n{\\n  return mod289(((x*34.0)+1.0)*x);\\n}\\n\\nvec4 taylorInvSqrt(vec4 r)\\n{\\n  return 1.79284291400159 - 0.85373472095314 * r;\\n}\\n\\nvec3 fade(vec3 t) {\\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\\n}\\n\\n// Classic Perlin noise\\nfloat cnoise(vec3 P)\\n{\\n  vec3 Pi0 = floor(P); // Integer part for indexing\\n  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\\n  Pi0 = mod289(Pi0);\\n  Pi1 = mod289(Pi1);\\n  vec3 Pf0 = fract(P); // Fractional part for interpolation\\n  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\\n  vec4 iz0 = Pi0.zzzz;\\n  vec4 iz1 = Pi1.zzzz;\\n\\n  vec4 ixy = permute(permute(ix) + iy);\\n  vec4 ixy0 = permute(ixy + iz0);\\n  vec4 ixy1 = permute(ixy + iz1);\\n\\n  vec4 gx0 = ixy0 * (1.0 / 7.0);\\n  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\\n  gx0 = fract(gx0);\\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\\n  vec4 sz0 = step(gz0, vec4(0.0));\\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\\n\\n  vec4 gx1 = ixy1 * (1.0 / 7.0);\\n  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\\n  gx1 = fract(gx1);\\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\\n  vec4 sz1 = step(gz1, vec4(0.0));\\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\\n\\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\\n\\n  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\\n  g000 *= norm0.x;\\n  g010 *= norm0.y;\\n  g100 *= norm0.z;\\n  g110 *= norm0.w;\\n  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\\n  g001 *= norm1.x;\\n  g011 *= norm1.y;\\n  g101 *= norm1.z;\\n  g111 *= norm1.w;\\n\\n  float n000 = dot(g000, Pf0);\\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\\n  float n111 = dot(g111, Pf1);\\n\\n  vec3 fade_xyz = fade(Pf0);\\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\\n\\n  return 2.2 * n_xyz;\\n}\\n\\n// Classic Perlin noise, periodic variant\\nfloat pnoise(vec3 P, vec3 rep)\\n{\\n  vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period\\n  vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period\\n  Pi0 = mod289(Pi0);\\n  Pi1 = mod289(Pi1);\\n  vec3 Pf0 = fract(P); // Fractional part for interpolation\\n  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\\n  vec4 iz0 = Pi0.zzzz;\\n  vec4 iz1 = Pi1.zzzz;\\n\\n  vec4 ixy = permute(permute(ix) + iy);\\n  vec4 ixy0 = permute(ixy + iz0);\\n  vec4 ixy1 = permute(ixy + iz1);\\n\\n  vec4 gx0 = ixy0 * (1.0 / 7.0);\\n  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\\n  gx0 = fract(gx0);\\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\\n  vec4 sz0 = step(gz0, vec4(0.0));\\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\\n\\n  vec4 gx1 = ixy1 * (1.0 / 7.0);\\n  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\\n  gx1 = fract(gx1);\\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\\n  vec4 sz1 = step(gz1, vec4(0.0));\\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\\n\\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\\n\\n  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\\n  g000 *= norm0.x;\\n  g010 *= norm0.y;\\n  g100 *= norm0.z;\\n  g110 *= norm0.w;\\n  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\\n  g001 *= norm1.x;\\n  g011 *= norm1.y;\\n  g101 *= norm1.z;\\n  g111 *= norm1.w;\\n\\n  float n000 = dot(g000, Pf0);\\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\\n  float n111 = dot(g111, Pf1);\\n\\n  vec3 fade_xyz = fade(Pf0);\\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\\n  return 2.2 * n_xyz;\\n}\\n\\n\\n\\nfloat stripes( float x, float f) {\\n  float PI = 3.14159265358979;\\n  float t = .5 + .5 * sin( f * 2.0 * PI * x);\\n  return t * t - .5;\\n}\\n\\nfloat turbulence( vec3 p ) {\\n  float w = 100.0;\\n  float t = -.5;\\n  for (float f = 1.0 ; f <= 10.0 ; f++ ){\\n    float power = pow( 2.0, f );\\n    t += abs( pnoise( vec3( power * p ), vec3( 10.0, 10.0, 10.0 ) ) / power );\\n  }\\n  return t;\\n}\\n\\nvoid main() {\\n\\n  vUv = uv;\\n\\n  vec4 mPosition = modelMatrix * vec4( position, 1.0 );\\n  vec3 nWorld = normalize( mat3( modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz ) * normal );\\n  vReflect = normalize( reflect( normalize( mPosition.xyz - cameraPosition ), nWorld ) );\\n\\n  pos = position;\\n  float noise = turbulence( .5 * normal + time );\\n\\n  float displacement = - weight * ( 10.0 *  -.10 * noise );\\n  displacement += 5.0 * pnoise( 0.05 * position + vec3( 2.0 * time ), vec3( 100.0 ) );\\n\\n  ao = noise;\\n  //ao = turbulence( .5 * normal + time + 10. * sin( .001 * time ) );\\n  vec3 newPosition = position + normal * vec3( displacement );\\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition, 1.0 );\\n\\n}\\n\\n\"","export default \"precision lowp float;\\n\\nuniform sampler2D tExplosion;\\n\\nvarying vec2 vUv;\\nvarying vec3 vReflect;\\nvarying vec3 pos;\\nvarying float ao;\\nvarying float d;\\nfloat PI = 3.14159265358979;\\n\\nfloat random(vec3 scale,float seed){\\n  return fract(sin(dot(gl_FragCoord.xyz+seed,scale))*43758.5453+seed);\\n}\\n\\nvoid main() {\\n\\n  float v = ( 1.1 * ao + 0.8 ) / 1.1;\\n  vec3 color = texture2D( tExplosion, vec2( .5, v + .01 * random(vec3(12.9898, 78.233, 151.7182), 0. ) ) ).rgb;\\n  gl_FragColor = vec4( color.rgb, 1.0 );\\n}\"","import { Component, Vue } from 'vue-property-decorator';\nimport * as THREE from 'three';\n\n// @ts-ignore\nimport vs from '!!raw-loader!./Fire.vert';\n// @ts-ignore\nimport fs from '!!raw-loader!./Fire.frag';\n\n@Component({\n  components: {\n    //\n  }\n})\nexport default class Fire extends Vue {\n  private camera: any = null;\n  private scene: any = null;\n  private renderer: any = null;\n  private controls: any = null;\n  private material: any = null;\n\n  private width: number = -1;\n  private height: number = -1;\n  private start: number = -1;\n\n  private init() {\n    const container = document.getElementById('container') as HTMLElement;\n\n    this.start = Date.now();\n    this.width = container.clientWidth;\n    this.height = container.clientHeight;\n\n    this.scene = new THREE.Scene();\n    this.camera = new THREE.PerspectiveCamera(\n      30,\n      this.width / this.height,\n      1,\n      10000\n    );\n    this.camera.position.z = 100;\n\n    this.material = new THREE.RawShaderMaterial({\n      uniforms: {\n        tExplosion: {\n          type: 't',\n          value: new THREE.TextureLoader().load('/img/texture/explosion.png')\n        },\n        time: { type: 'f', value: 0.0 },\n        weight: { type: 'f', value: 10.0 }\n      },\n      vertexShader: vs,\n      fragmentShader: fs,\n      side: THREE.DoubleSide,\n      transparent: true\n    });\n    const mesh = new THREE.Mesh(\n      new THREE.IcosahedronGeometry(20, 5),\n      this.material\n    );\n    this.scene.add(mesh);\n\n    this.renderer = new THREE.WebGLRenderer({\n      antialias: true\n    });\n\n    this.renderer.setSize(this.width, this.height);\n\n    if (container) {\n      container.appendChild(this.renderer.domElement);\n    }\n  }\n\n  private animate() {\n    requestAnimationFrame(this.animate);\n    this.material.uniforms['time'].value = 0.00025 * (Date.now() - this.start);\n\n    this.renderer.render(this.scene, this.camera);\n  }\n\n  private mounted() {\n    this.init();\n    this.animate();\n  }\n\n  private beforeDestroy() {\n    this.scene.dispose();\n    this.renderer.dispose();\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--12-3!./Fire.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--12-3!./Fire.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Fire.vue?vue&type=template&id=1ec1c627&scoped=true&lang=pug&\"\nimport script from \"./Fire.ts?vue&type=script&lang=ts&\"\nexport * from \"./Fire.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./Fire.vue?vue&type=style&index=0&id=1ec1c627&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ec1c627\",\n  null\n  \n)\n\nexport default component.exports","import Fire from './Fire.vue';\n\nexport default Fire;\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Fire.vue?vue&type=style&index=0&id=1ec1c627&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Fire.vue?vue&type=style&index=0&id=1ec1c627&lang=scss&scoped=true&\""],"sourceRoot":""}