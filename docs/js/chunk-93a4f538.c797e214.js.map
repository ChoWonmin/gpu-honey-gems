{"version":3,"sources":["webpack:///./src/render/Liquid/Liquid.vue?6155","webpack:///./src/render/Liquid/Liquid.vue?3dd0","webpack:///./src/render/Liquid/Shader.ts","webpack:///./src/render/Liquid/Liquid.ts","webpack:///./src/render/Liquid/Liquid.ts?3a25","webpack:///./src/render/Liquid/Liquid.vue","webpack:///./src/render/Liquid/index.ts"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","vertexShader","fragmentShader","camera","scene","renderer","controls","stars","starsLen","width","height","container","document","getElementById","clientWidth","clientHeight","position","z","geometry","texture1","Float32Array","load","wrapS","wrapT","texture2","texture3","material","uniforms","type","value","time","side","transparent","plane","add","antialias","setSize","appendChild","domElement","requestAnimationFrame","animate","performance","now","object","children","init","dispose","components","component"],"mappings":"kHAAA,yBAAwmB,EAAG,G,oECA3mB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,gBAClHC,EAAkB,G,4GCDP,MAAK,oCACX,KAAAC,aAAA,mfAwBA,KAAAC,eAAA,0mBChBY,EAArB,YALA,iD,+DAMU,EAAAC,OAAc,KACd,EAAAC,MAAa,KACb,EAAAC,SAAgB,KAChB,EAAAC,SAAgB,KAEhB,EAAAC,MAAsB,GACtB,EAAAC,SAAmB,IACnB,EAAAC,OAAiB,EACjB,EAAAC,QAAkB,EAd5B,EAKA,0EAYI,IAAMC,EAAYC,SAASC,eAAe,aAE1CnB,KAAKe,MAAQE,EAAUG,YACvBpB,KAAKgB,OAASC,EAAUI,aAExBrB,KAAKU,MAAQ,IAAI,OACjBV,KAAKS,OAAS,IAAI,OAChB,GACAT,KAAKe,MAAQf,KAAKgB,OAClB,GACA,KAEFhB,KAAKS,OAAOa,SAASC,EAAI,GAEzB,IAAMC,EAAW,IAAI,OAAoB,GAAI,GAuDvCC,GAtDW,IAAIC,aAAa,EAC/B,GACA,EACD,EACA,GACC,EACD,EACA,EACA,EACA,EAEA,EACA,EACA,GACC,EACD,EACA,GACC,GACA,EACD,IAEa,IAAIA,aAAa,CAC9B,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EAEA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,KAQe,IAAI,QAAsBC,KAAK,6BAEhDF,EAASG,MAAQ,OACjBH,EAASI,MAAQ,OAEjB,IAAMC,GAAW,IAAI,QAAsBH,KAAK,4BAChDG,EAASF,MAAQ,OACjBE,EAASD,MAAQ,OAEjB,IAAME,GAAW,IAAI,QAAsBJ,KAAK,0BAChDI,EAASH,MAAQ,OACjBG,EAASF,MAAQ,OAEjB,IAAMG,EAAW,IAAI,OAAwB,CAC3CC,SAAU,CACRR,SAAU,CACRS,KAAM,IACNC,MAAOV,GAETK,SAAU,CACRI,KAAM,IACNC,MAAOL,GAETC,SAAU,CACRG,KAAM,IACNC,MAAOJ,GAETK,KAAM,CAAED,MAAO,IAEjB5B,aAAc,EAAOA,aACrBC,eAAgB,EAAOA,eACvB6B,KAAM,OACNC,aAAa,IAGTC,EAAQ,IAAI,OAAWf,EAAUQ,GAEvChC,KAAKU,MAAM8B,IAAID,GACfvC,KAAKW,SAAW,IAAI,OAAoB,CACtC8B,WAAW,IAGbzC,KAAKW,SAAS+B,QAAQ1C,KAAKe,MAAOf,KAAKgB,QAMnCC,GACFA,EAAU0B,YAAY3C,KAAKW,SAASiC,cAlI1C,gCAuIIC,sBAAsB7C,KAAK8C,SAC3B,IAAMV,EAAOW,YAAYC,MACnBC,EAASjD,KAAKU,MAAMwC,SAAS,GAEnCD,EAAOjB,SAASC,SAAS,QAAQE,MAAe,KAAPC,EACzCpC,KAAKW,SAASb,OAAOE,KAAKU,MAAOV,KAAKS,UA5I1C,gCAgJIT,KAAKmD,OACLnD,KAAK8C,YAjJT,sCAqJI9C,KAAKU,MAAM0C,UACXpD,KAAKW,SAASyC,cAtJlB,GAAoC,QAAf,EAAM,QAL1B,eAAU,CACTC,WAAY,MAIO,WCTkQ,I,wBCQnRC,EAAY,eACd,EACAxD,EACAQ,GACA,EACA,KACA,WACA,MAIa,EAAAgD,E,QCjBA","file":"js/chunk-93a4f538.c797e214.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Liquid.vue?vue&type=style&index=0&id=21427b2d&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Liquid.vue?vue&type=style&index=0&id=21427b2d&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"container\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default new (class Shader {\n  public vertexShader: string = `\n    precision highp float;\n    precision highp float;\n\n\t\tuniform mat4 modelViewMatrix;\n    uniform mat4 projectionMatrix;\n    \n    attribute vec3 position;\n    // attribute vec4 color;\n    attribute vec2 uv;\n    \n\t\tvarying vec3 vPosition;\n    varying vec4 vColor;\n    varying vec2 vUv;\n\n\t\tvoid main(){\n      vPosition = position;\n      // vColor = color;\n      \n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( vPosition, 1.0 );\n\t\t}\n  `;\n\n  public fragmentShader: string = `\n    precision highp float;\n    precision highp float;\n    \n    uniform sampler2D texture1;\n    uniform sampler2D texture2;\n    uniform sampler2D texture3;\n    uniform float time;\n\n    varying vec2 vUv;\n\t\tvarying vec3 vPosition;\n    varying vec4 vColor;\n    \n\t\tvoid main() {\n      vec2 uv = vUv;\n      float sinTime = (sin(time)/2.0 + 0.5) * 0.01;\n      vec4 movement = texture2D(texture2, uv) * sinTime;\n      \n      if (movement.x > 0.005)\n        uv.x += movement.x;\n      if (movement.y > 0.005)  \n        uv.y += movement.y;\n\n      gl_FragColor = texture2D(texture3, uv);\n\t\t}\n  `;\n})();\n","import { Component, Vue } from 'vue-property-decorator';\nimport * as THREE from 'three';\nimport Shader from './Shader';\n\n@Component({\n  components: {\n    //\n  }\n})\nexport default class Liquid extends Vue {\n  private camera: any = null;\n  private scene: any = null;\n  private renderer: any = null;\n  private controls: any = null;\n\n  private stars: THREE.Mesh[] = [];\n  private starsLen: number = 400;\n  private width: number = -1;\n  private height: number = -1;\n\n  private init() {\n    const container = document.getElementById('container') as HTMLElement;\n\n    this.width = container.clientWidth;\n    this.height = container.clientHeight;\n\n    this.scene = new THREE.Scene();\n    this.camera = new THREE.PerspectiveCamera(\n      30,\n      this.width / this.height,\n      0.1,\n      1000\n    );\n    this.camera.position.z = 10;\n\n    const geometry = new THREE.PlaneGeometry(10, 6);\n    const vertices = new Float32Array([\n      -1.0,\n      -1.0,\n      1.0,\n      1.0,\n      -1.0,\n      1.0,\n      1.0,\n      1.0,\n      1.0,\n\n      1.0,\n      1.0,\n      1.0,\n      -1.0,\n      1.0,\n      1.0,\n      -1.0,\n      -1.0,\n      1.0\n    ]);\n    const colors = new Float32Array([\n      1,\n      0,\n      0,\n      1,\n      0,\n      1,\n      0,\n      1,\n      0,\n      0,\n      1,\n      1,\n\n      1,\n      0,\n      0,\n      1,\n      0,\n      1,\n      0,\n      1,\n      0,\n      0,\n      1,\n      1\n    ]);\n\n    // geometry.addAttribute('position', new THREE.BufferAttribute(vertices, 3));\n    // geometry.addAttribute('color', new THREE.BufferAttribute(colors, 4));\n    // const uvs = geometry.attributes.uv.array;\n    // geometry.addAttribute('uv', new THREE.BufferAttribute(uvs, 2));\n\n    const texture1 = new THREE.TextureLoader().load('/img/texture/texture.jpg');\n\n    texture1.wrapS = THREE.RepeatWrapping;\n    texture1.wrapT = THREE.RepeatWrapping;\n\n    const texture2 = new THREE.TextureLoader().load('/img/texture/firemap.jpg');\n    texture2.wrapS = THREE.RepeatWrapping;\n    texture2.wrapT = THREE.RepeatWrapping;\n\n    const texture3 = new THREE.TextureLoader().load('/img/texture/space.jpg');\n    texture3.wrapS = THREE.RepeatWrapping;\n    texture3.wrapT = THREE.RepeatWrapping;\n\n    const material = new THREE.RawShaderMaterial({\n      uniforms: {\n        texture1: {\n          type: 't',\n          value: texture1\n        },\n        texture2: {\n          type: 't',\n          value: texture2\n        },\n        texture3: {\n          type: 't',\n          value: texture3\n        },\n        time: { value: 1.0 }\n      },\n      vertexShader: Shader.vertexShader,\n      fragmentShader: Shader.fragmentShader,\n      side: THREE.DoubleSide,\n      transparent: true\n    });\n\n    const plane = new THREE.Mesh(geometry, material);\n\n    this.scene.add(plane);\n    this.renderer = new THREE.WebGLRenderer({\n      antialias: true\n    });\n\n    this.renderer.setSize(this.width, this.height);\n    // this.controls = new THREE.OrbitControls(\n    //   this.camera,\n    //   this.renderer.domElement\n    // );\n\n    if (container) {\n      container.appendChild(this.renderer.domElement);\n    }\n  }\n\n  private animate() {\n    requestAnimationFrame(this.animate);\n    const time = performance.now();\n    const object = this.scene.children[0];\n\n    object.material.uniforms['time'].value = time * 0.005;\n    this.renderer.render(this.scene, this.camera);\n  }\n\n  private mounted() {\n    this.init();\n    this.animate();\n  }\n\n  private beforeDestroy() {\n    this.scene.dispose();\n    this.renderer.dispose();\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--12-3!./Liquid.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--12-3!./Liquid.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Liquid.vue?vue&type=template&id=21427b2d&scoped=true&lang=pug&\"\nimport script from \"./Liquid.ts?vue&type=script&lang=ts&\"\nexport * from \"./Liquid.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./Liquid.vue?vue&type=style&index=0&id=21427b2d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"21427b2d\",\n  null\n  \n)\n\nexport default component.exports","import Liquid from './Liquid.vue';\n\nexport default Liquid;\n"],"sourceRoot":""}